#!/bin/bash

# Test script for sidebar keyboard shortcut fix
echo "âŒ¨ï¸  Testing Sidebar Keyboard Shortcut Fix"
echo "======================================="

cd /Users/lawrencegoeseels/Documents/AI/ClipboardManager

echo "ğŸ¯ Problem identified:"
echo "- Sidebar required double press of key command after first use"
echo "- No global keyboard shortcut was implemented for sidebar toggle"
echo "- GlobalShortcutsManager only handled search and clipboard history"
echo ""
echo "âœ… Solution implemented:"
echo "- Added Cmd+Shift+B keyboard shortcut for sidebar toggle"
echo "- Added toggleSidebar notification handling"
echo "- Added debug logging to track sidebar state changes"
echo ""
echo "ğŸ§ª Test instructions:"
echo "1. Launch the app"
echo "2. Test button click: Click folder icon â†’ sidebar should toggle"
echo "3. Test keyboard shortcut: Press Cmd+Shift+B â†’ sidebar should toggle"
echo "4. Both methods should work consistently without double press"
echo ""
echo "ğŸ” Debug output to watch for:"
echo "- 'ğŸ”„ Toggling sidebar: false â†’ true' (button click)"
echo "- 'ğŸ”„ Toggling sidebar via keyboard shortcut: true â†’ false' (keyboard)"
echo ""
echo "âŒ¨ï¸  Available keyboard shortcuts:"
echo "- Cmd+Shift+V: Show clipboard history"
echo "- Cmd+Shift+F: Show search"
echo "- Cmd+Shift+B: Toggle sidebar (NEW)"
echo "- Cmd+Option+1-9: Paste specific item"
echo ""
echo "âœ… Expected behavior:"
echo "- Single press should toggle sidebar both ways"
echo "- No more double press requirement"
echo "- Consistent behavior after first use"
echo ""
echo "ğŸš€ Starting app for testing..."
./.build/arm64-apple-macosx/debug/ClipboardManager
